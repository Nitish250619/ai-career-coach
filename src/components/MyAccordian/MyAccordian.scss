/* Theme */
$bg: #0e0e0e;
$panel: #151515;
$panel2: #1a1a1a;
$text: #f5f5f5;
$muted: #bdbdbd;
$gold: #d4af37;

.accordion {
  padding: 5.5rem 8%;
  min-height: calc(100vh - 80px);
  color: $text;
  background:
    radial-gradient(1200px 500px at -10% -20%, rgba($gold, .08), transparent 60%),
    linear-gradient(180deg, $bg 0%, #0b0b0b 100%);
  overflow: hidden;

  &__header {
    text-align: center;
    max-width: 960px;
    margin: 0 auto 2rem;
  }

  &__title {
    font-size: clamp(2rem, 3vw, 2.6rem);
    margin: 0 0 .5rem;
    background: linear-gradient(90deg, #ffd700, #f5f5f5, $gold);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 18px rgba(255, 215, 0, 0.15);
  }

  &__subtitle {
    color: $muted;
    font-size: 1.05rem;
  }

  &__wrap {
    margin-top: 1.6rem;
    max-width: 960px;
    margin-inline: auto;
    display: grid;
    gap: 0.9rem;
  }
}

/* Item */
.accItem {
  position: relative;
  border-radius: 14px;
  background: linear-gradient(145deg, #212121, #141414);
  outline: 1px solid rgba(255,255,255,.06);
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
  overflow: hidden;

  /* Entrance stagger */
  opacity: 0;
  transform: translateY(10px);
  animation: itemIn 520ms ease forwards;
  animation-delay: var(--delay, 0ms);

  &.is-open {
    outline-color: rgba($gold,.35);
    box-shadow: 0 14px 30px rgba($gold,.28);
    background: linear-gradient(145deg, #262626, #171717);
  }
}

@keyframes itemIn {
  to { opacity: 1; transform: translateY(0); }
}

/* Header button */
.accItem__head {
  width: 100%;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: .9rem;
  padding: 1rem 1.1rem;
  background: transparent;
  color: inherit;
  border: none;
  cursor: pointer;
  text-align: left;

  &:hover { background: rgba(255,255,255,.03); }
  &:focus-visible {
    outline: 2px solid rgba($gold,.6);
    outline-offset: 2px;
    border-radius: 12px;
  }
}

.accItem__icon { font-size: 1.2rem; opacity: .9; }

.accItem__q {
  font-weight: 600;
  letter-spacing: .2px;
}

.accItem__chev {
  width: 22px; height: 22px;
  opacity: .85;
  transition: transform .28s ease, opacity .28s ease;
}

/* rotate chevron on open */
.is-open .accItem__chev { transform: rotate(180deg); }

/* Panel animation (auto-height) */
.accItem__panel {
  max-height: 0;
  overflow: hidden;
  transition:
    max-height .42s cubic-bezier(.22,.61,.36,1),
    opacity .42s ease,
    filter .42s ease;
  opacity: 0;
  filter: blur(2px);
}

/* Visible state */
.is-open .accItem__panel {
  opacity: 1;
  filter: blur(0);
}

/* Inner content + text animations */
.accItem__inner {
  padding: .2rem 1.1rem 1.1rem 3rem;
  position: relative;
}

/* left glow rail */
.accItem__inner::before {
  content: "";
  position: absolute;
  left: 1.2rem;
  top: .6rem;
  bottom: .6rem;
  width: 2px;
  border-radius: 2px;
  background: linear-gradient(180deg, rgba($gold,.6), rgba(245,245,245,.15));
  filter: drop-shadow(0 0 6px rgba($gold,.4));
  opacity: .85;
}

.accItem__a {
  color: #dcdcdc;
  line-height: 1.65;
  margin: .2rem 0 .6rem;
  /* rise + de-blur when panel opens */
  transform: translateY(6px);
  opacity: 0;
  filter: blur(2px);
  transition: transform .42s var(--ease, cubic-bezier(.22,.61,.36,1)) .04s,
              opacity .42s ease .04s,
              filter .42s ease .04s;
}

.is-open .accItem__a {
  transform: translateY(0);
  opacity: 1;
  filter: blur(0);
}

.accItem__list {
  margin: 0;
  padding-left: 1rem;
  color: #d2d2d2;
  line-height: 1.65;

  li {
    margin: .2rem 0;
    transform: translateY(8px);
    opacity: 0;
    filter: blur(2px);
    transition:
      transform .36s var(--ease, cubic-bezier(.22,.61,.36,1)) calc(.1s + var(--i, 0) * 60ms),
      opacity .36s ease calc(.1s + var(--i, 0) * 60ms),
      filter .36s ease calc(.1s + var(--i, 0) * 60ms);

    &:hover { transform: translateX(4px); }
  }
}

.is-open .accItem__list li {
  transform: translateY(0);
  opacity: 1;
  filter: blur(0);
}

/* Mobile */
@media (max-width: 640px) {
  .accordion { padding: 4.5rem 6%; }
  .accItem__inner { padding-left: 2.6rem; }
  .accItem__inner::before { left: .9rem; }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .accItem__panel,
  .accItem__a,
  .accItem__list li,
  .accItem__chev,
  .accItem {
    transition: none !important;
    animation: none !important;
  }
}
